
func main { int | with args ;
    def thing

    1 anew =thing

    "hi" 0 thing:unwrap:set;

    def thing2 thing:unwrap ChangingArray:new =thing2

    "world" thing2:unwrap:push

    def thing3 thing2:unwrap:array =thing3

    0 thing3:unwrap:get println
    1 thing3:unwrap:get println

    def thingy 
    "heya1" =thingy
    "thingy println" dyn-read call

    "heya2" =thingy
    { | 
        thingy println 
        { | 
            { | with it ; 
                it println 
            } trace:foreach 
        } call
    } call

    100
}

{ | with it ; 
    it println 
} trace:foreach 
